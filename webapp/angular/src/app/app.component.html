<app-toolbar/>

<main>
@if(!folderData.subfolders && !folderData.files) {
    // TODO dialog prompt for empty folder
}
    <div id="currentPath">
        <span>{{currentPath}}</span>
    </div>
    <div class="centered">
@if(currentPath !== '') {
        <div class="card" (click)="chooseParentFolder()">
            <ng-icon name="MatFolderOutline" size="60px"/>
            <span class="title">..</span>
        </div>
}

@for(subfolder of folderData.subfolders; track subfolder) {
        <div class="card" (click)="chooseSubfolder(subfolder)">
            <ng-icon name="MatFolderOutline" size="60px"/>
            <span class="title">{{subfolder}}</span>
        </div>
}
@for(file of folderData.files; track file) {
        <div class="card">
            <ng-icon name="MatFileDownloadOutline" size="60px"/>
            <span class="title"> {{file.title || file.name}} </span>
            <div class="info">
                {{file.timestamp}} <!-- FIXME convert to age -->
                {{file.size}} bytes <!-- FIXME convert to human readable -->
            </div>
@if(!folderData.locked) {
            <div class="actions">
                <ng-icon (click)="deleteFile(currentPath, file.name)" name="MatDeleteOutline" color="red" size="30px"/>
            </div>
}
        </div>
}
    </div>
</main>

